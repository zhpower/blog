<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="2644" height="2764"><desc>title%20vkms_drv%0A%0Afontfamily%20mono%0Afontfamily%20mono%0A%0Akernel%20-%3Evkms_drv%3Avkms_init(%20)%0Avkms_drv-%3Evkms_drv%3Avkms_create(%20)%0A%0Arbox%20right%20of%20vkms_drv%3A1.%20%20platform_device_register_simple(%20)%5Cn2.%20%20devres_open_group(%3Ccolor%3A%23red%3Evkms_driver%3C%2Fcolor%3E)%5Cn3.%20%20devm_drm_dev_alloc(%20)%5Cn4.%20%20dma_coerce_mask_and_coherent(%20)%5Cn5.%20%20drm_vblank_init(%20)%5Cn6.%20%20vkms_modeset_init(%20)%5Cn%20%20%20%20%20%20%20%5C-%5C-%3E%20drm_mode_config_init(%20)%20%5C%2F%5C%2F%20set%20%3Ccolor%3A%23red%3Evkms_mode_funcs%3C%2Fcolor%3E%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ccolor%3A%23red%3Evkms_mode_config_helpers%3C%2Fcolor%3E%5Cn%20%20%20%20%20%20%20%5C-%5C-%3E%20vmks_output_init(%20)%20%5Cn%5Cn7.%20%20drm_dev_register(%20)%5Cn8.%20%20drm_fbdev_generic_setup(%20)%0Abox%20right%20of%20vkms_drv%3A%3Ccolor%3A%23FF8000%3Evkms_mode_funcs%3C%2Fcolor%3E%20%3D%20%7B%5Cn%09.fb_create%20%20%20%20%20%20%20%20%20%20%20%3D%20drm_gem_fb_create%2C%5Cn%09.atomic_check%20%20%20%20%3D%20drm_atomic_helper_check%2C%5Cn%09.atomic_commit%20%3D%20drm_atomic_helper_commit%2C%5Cn%7D%3B%0Abox%20right%20of%20vkms_drv%3A%3Ccolor%3A%23FF8000%3Evkms_mode_config_helpers%3C%2Fcolor%3E%20%3D%20%7B%5Cn%09.atomic_commit_tail%20%3D%20vkms_atomic_commit_tail%2C%5Cn%7D%3B%0Avkms_drv%20-%3E%20vkms_output%3Avmks_output_init(%20)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%0Avkms_output-%3Evkms_plane%3A%3Cbackground%3A%2399ff99%3Evkms_plane_init(%20)%3C%2Fbackground%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0Arbox%20right%20of%20vkms_plane%3Adrmm_universal_plane_alloc(%20)%20%5C%2F%5C%2F%20set%20%3Ccolor%3A%23red%3Evkms_plane_funcs%3C%2Fcolor%3E%5Cndrm_plane_helper_add(%20)%20%20%20%20%20%20%20%20%20%5C%2F%5C%2F%20set%20%3Ccolor%3A%23red%3Evkms_primary_helper_funcs%3C%2Fcolor%3E%0Abox%20right%20of%20vkms_plane%3A%3Ccolor%3A%23FF8000%3Evkms_plane_funcs%3C%2Fcolor%3E%20%3D%20%7B%5Cn%09.update_plane%09%09%3D%20drm_atomic_helper_update_plane%2C%5Cn%09.disable_plane%09%09%3D%20drm_atomic_helper_disable_plane%2C%5Cn%09.reset%09%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%3D%20vkms_plane_reset%2C%5Cn%5Cn%09.atomic_duplicate_state%20%3D%20vkms_plane_duplicate_state%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%2F%5C%2F%20alloc%20%3Cbackground%3A%23E5CCFF%3Evkms_plane_state%3C%2Fbackground%3E%5Cn%09.atomic_destroy_state%09%20%20%20%3D%20vkms_plane_destroy_state%2C%5Cn%7D%3B%0Abox%20right%20of%20vkms_plane%3A%3Ccolor%3A%23FF8000%3Evkms_primary_helper_funcs%3C%2Fcolor%3E%20%3D%20%7B%5Cn%09.atomic_update%09%09%3D%20vkms_plane_atomic_update%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%2F%5C%2F%20%E5%BE%97%E5%88%B0new_plane_state%2C%20%E4%BF%9D%E5%AD%98fb%2Csrc%2Cdst%E5%88%B0%3Cbackground%3A%23E5CCFF%3Evkms_plane_state%3C%2Fbackground%3E%5Cn%09.atomic_check%09%09%20%20%3D%20vkms_plane_atomic_check%2C%5Cn%09.prepare_fb%20%20%20%20%20%20%20%20%20%3D%20drm_gem_prepare_shadow_fb%2C%20%5Cn%09.cleanup_fb%20%20%20%20%20%20%20%20%20%3D%20drm_gem_cleanup_shadow_fb%5Cn%7D%3B%0Avkms_output-%3Evkms_crtc%3A%3Cbackground%3A%2399ff99%3Evkms_crtc_init(%20)%3C%2Fbackground%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%0Arbox%20right%20of%20vkms_crtc%3A1.%20drm_crtc_init_with_planes(%20)%20%5C%2F%5C%2F%20set%20%3Ccolor%3A%23red%3Evkms_crtc_funcs%3C%2Fcolor%3E%5Cn2.%20drm_crtc_helper_add(%20)%20%20%20%20%20%20%20%20%5C%2F%5C%2F%20set%20%3Ccolor%3A%23red%3Evkms_crtc_helper_funcs%3C%2Fcolor%3E%5Cn3.%20alloc_ordered_workqueue(%20)%20%5C%2F%5C%2F%E5%88%9B%E5%BB%BA%E5%B7%A5%E4%BD%9C%E9%98%9F%E5%88%97%3Cbackground%3A%236666ff%3Ecomposer_workq%3C%2Fbackground%3E%0Abox%20right%20of%20vkms_crtc%3A%3Ccolor%3A%23FF8000%3Evkms_crtc_funcs%3C%2Fcolor%3E%20%3D%20%7B%5Cn%09.set_config%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3D%20drm_atomic_helper_set_config%2C%5Cn%09.destroy%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3D%20drm_crtc_cleanup%2C%5Cn%09.page_flip%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3D%20drm_atomic_helper_page_flip%2C%5Cn%09.reset%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3D%20vkms_atomic_crtc_reset%2C%5Cn%5Cn%09.atomic_duplicate_state%20%3D%20vkms_atomic_crtc_duplicate_state%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%2F%5C%2F%20alloc%20vkms_crtc_state%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%2F%5C%2F%20%E5%88%9B%E5%BB%BA%3Cbackground%3A%2399ccff%3E%E5%B7%A5%E4%BD%9C%E9%A1%B9%3C%2Fbackground%3Evkms_composer_worker%5Cn%09.atomic_destroy_state%20%20%20%20%3D%20vkms_atomic_crtc_destroy_state%2C%5Cn%5Cn%09.enable_vblank%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%3D%20vkms_enable_vblank%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%2F%5C%2F%20%E4%B8%BA%E6%8C%87%E5%AE%9Acrtc%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%AE%9A%E6%97%B6%E5%99%A8%EF%BC%8C%E4%BB%A5%E4%BE%BF%E5%91%A8%E6%9C%9F%E6%80%A7%E5%8F%91%E5%87%BAvblank%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%2F%5C%2F%20%E5%91%A8%E6%9C%9F%E6%97%B6%E9%95%BF%E7%94%B1%20mode-%3Ecrtc_clock%E5%BE%97%E5%88%B0%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%2F%5C%2F%20%E5%AE%9A%E6%97%B6%E5%99%A8%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0%E5%88%99%E6%8A%8A%3Cbackground%3A%2399ccff%3E%E5%B7%A5%E4%BD%9C%E9%A1%B9%3C%2Fbackground%3E%E6%B7%BB%E5%8A%A0%E5%88%B0%E5%B7%A5%E4%BD%9C%E9%98%9F%E5%88%97%3Cbackground%3A%236666ff%3Ecomposer_workq%3C%2Fbackground%3E%E4%B8%AD%5Cn%09.disable_vblank%09%09%20%20%20%20%20%20%20%20%20%20%20%20%3D%20vkms_disable_vblank%2C%5Cn%09.get_vblank_timestamp%09%3D%20vkms_get_vblank_timestamp%2C%5Cn%5Cn%09.get_crc_sources%09%20%20%20%20%20%20%20%20%20%20%20%3D%20%20vkms_get_crc_sources%2C%5Cn%09.set_crc_source%09%09%20%20%20%20%20%20%20%20%20%20%20%20%20%3D%20vkms_set_crc_source%2C%5Cn%09.verify_crc_source%09%20%20%20%20%20%20%20%20%20%20%3D%20vkms_verify_crc_source%2C%5Cn%7D%3B%0Abox%20right%20of%20vkms_crtc%3A%3Ccolor%3A%23FF8000%3Evkms_crtc_helper_funcs%3C%2Fcolor%3E%20%3D%20%7B%5Cn%09.atomic_check%09%3D%20vkms_crtc_atomic_check%2C%5Cn%09.atomic_begin%09%3D%20vkms_crtc_atomic_begin%2C%5Cn%09.atomic_flush%20%20%09%3D%20vkms_crtc_atomic_flush%2C%5Cn%09.atomic_enable%09%3D%20vkms_crtc_atomic_enable%2C%5Cn%09.atomic_disable%09%3D%20vkms_crtc_atomic_disable%2C%5Cn%7D%3B%0Arbox%20right%20of%20vkms_output%3A%3Cbackground%3A%2399ff00%3Econnector%3C%2Fbackground%3E%5Cndrm_connector_init(%20)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%2F%5C%2F%20set%20%3Ccolor%3A%23red%3Evkms_connector_funcs%3C%2Fcolor%3E%5Cndrm_connector_helper_add(%20)%20%20%5C%2F%5C%2F%20set%20%3Ccolor%3A%23red%3Evkms_conn_helper_funcs%3C%2Fcolor%3E%0Abox%20right%20of%20vkms_output%3A%3Ccolor%3A%23ff8000%3Evkms_connector_funcs%3C%2Fcolor%3E%20%3D%20%7B%5Cn%09.fill_modes%20%3D%20drm_helper_probe_single_connector_modes%2C%5Cn%09.destroy%20%20%20%20%20%3D%20vkms_connector_destroy%2C%5Cn%09.reset%20%20%20%20%20%20%20%20%20%3D%20drm_atomic_helper_connector_reset%2C%5Cn%5Cn%09.atomic_duplicate_state%20%3D%20drm_atomic_helper_connector_duplicate_state%2C%5Cn%09.atomic_destroy_state%20%20%20%20%3D%20drm_atomic_helper_connector_destroy_state%2C%5Cn%7D%3B%0Abox%20right%20of%20vkms_output%3A%3Ccolor%3A%23ff8000%3Evkms_conn_helper_funcs%3C%2Fcolor%3E%20%3D%20%7B%5Cn%09.get_modes%20%20%20%20%3D%20vkms_conn_get_modes%2C%5Cn%7D%3B%5Cn%0Arbox%20right%20of%20vkms_output%3A%3Cbackground%3A%2399ff00%3Eencoder%3C%2Fbackground%3E%5Cndrm_simple_encoder_init(%20)%5Cndrm_connector_attach_encoder(%20)%0A%0Avkms_output-%3Evkms_writeback%3Avkms_enable_writeback_connector(%20)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0Arbox%20right%20of%20vkms_output%3A%3Cbackground%3A%2399ff00%3Ereset%3C%2Fbackground%3E%5Cndrm_mode_config_reset(%20)</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="2644" height="2764"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 49.285942986324216 103.10369087072726 L 49.285942986324216 2764.7365854907266" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 175.39558401685807 103.10369087072726 L 175.39558401685807 2764.7365854907266" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 707.6769556183034 103.10369087072726 L 707.6769556183034 2764.7365854907266" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1288.2407063701394 103.10369087072726 L 1288.2407063701394 2764.7365854907266" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1891.588804656155 103.10369087072726 L 1891.588804656155 2764.7365854907266" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2561.9806041140455 103.10369087072726 L 2561.9806041140455 2764.7365854907266" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 55.60594589072727 L 89.77600727264843 55.60594589072727 L 89.77600727264843 103.10369087072726 L 8.795878699999996 103.10369087072726 L 8.795878699999996 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">kernel</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 123.2698614663737 55.60594589072727 L 227.52130656734244 55.60594589072727 L 227.52130656734244 103.10369087072726 L 123.2698614663737 103.10369087072726 L 123.2698614663737 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="142.3569182453737" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_drv</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 643.3679902699674 55.60594589072727 L 771.9859209666392 55.60594589072727 L 771.9859209666392 103.10369087072726 L 643.3679902699674 103.10369087072726 L 643.3679902699674 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="662.4550470489675" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_output</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1228.4091961609636 55.60594589072727 L 1348.0722165793152 55.60594589072727 L 1348.0722165793152 103.10369087072726 L 1228.4091961609636 103.10369087072726 L 1228.4091961609636 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1247.4962529399636" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_plane</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1838.1101844616276 55.60594589072727 L 1945.0674248506823 55.60594589072727 L 1945.0674248506823 103.10369087072726 L 1838.1101844616276 103.10369087072726 L 1838.1101844616276 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1857.1972412406276" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_crtc</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2487.8470156577996 55.60594589072727 L 2636.114192570292 55.60594589072727 L 2636.114192570292 103.10369087072726 L 2487.8470156577996 103.10369087072726 L 2487.8470156577996 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2506.9340724367994" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_writeback</text></g></g><g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1273.9294128417969" y="26.547561167272725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_drv</text></g><g><g><rect fill="white" stroke="none" x="70.10285590965755" y="138.28720567072727" width="84.47581518386718" height="22.86928462"/></g><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="72.74161951965755" y="154.1197873307273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_init( )</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 49.285942986324216 161.15649029072728 L 160.91170375752472 161.15649029072728" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(175.39558401685807,161.15649029072728) translate(-175.39558401685807,-161.15649029072728)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 160.73578618352474 153.8265913740606 L 175.39558401685807 161.15649029072728 L 160.73578618352474 168.48638920739396 Z"/></g></g><g><g><rect fill="white" stroke="none" x="196.2124969401914" y="187.54412639072729" width="104.99836767410156" height="22.86928462"/></g><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="198.8512605501914" y="203.3767080507273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_create( )</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 175.39558401685807 210.4134110107273 L 245.76261361685806 210.4134110107273 L 245.76261361685806 233.2826956307273 L 189.8794642761914 233.2826956307273" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(175.39558401685807,233.2826956307273) translate(-175.39558401685807,-233.2826956307273)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 190.0553818501914 225.9527967140606 L 175.39558401685807 233.2826956307273 L 190.0553818501914 240.61259454739397 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 175.39558401685807 376.6555184407273 L 184.19146271685807 376.6555184407273 M 184.19146271685807 275.5029133907273 L 184.19146271685807 275.5029133907273 A 15.832581659999999 15.832581659999999 0 0 1 200.02404437685806 259.6703317307273 L 683.0484952583034 259.6703317307273 L 683.0484952583034 259.6703317307273 A 15.832581659999999 15.832581659999999 0 0 1 698.8810769183034 275.5029133907273 L 698.8810769183034 477.8081234907273 L 698.8810769183034 477.8081234907273 A 15.832581659999999 15.832581659999999 0 0 1 683.0484952583034 493.64070515072734 L 200.02404437685806 493.64070515072734 L 200.02404437685806 493.64070515072734 A 15.832581659999999 15.832581659999999 0 0 1 184.19146271685807 477.8081234907273 L 184.19146271685807 275.5029133907273" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685812" y="284.2987920907273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1.  platform_device_register_simple( )</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685812" y="301.8905494907273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2.  devres_open_group(</text><text fill="red" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="372.0626141168972" y="301.8905494907273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_driver</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="455.2265392877956" y="301.8905494907273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">)</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685812" y="319.48230689072733" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3.  devm_drm_dev_alloc( )</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685812" y="337.07406429072734" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">4.  dma_coerce_mask_and_coherent( )</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685812" y="354.66582169072734" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">5.  drm_vblank_init( )</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685812" y="372.25757909072735" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">6.  vkms_modeset_init( )</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685812" y="389.84933649072735" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">       --&gt; drm_mode_config_init( ) // set </text><text fill="red" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="482.82849851631124" y="389.84933649072735" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_mode_funcs</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="610.2086407282253" y="389.84933649072735" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685812" y="407.44109389072736" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                                                               </text><text fill="red" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="482.10510984443624" y="407.44109389072736" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_mode_config_helpers</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685812" y="425.03285129072736" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">       --&gt; vmks_output_init( ) </text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685812" y="460.2163660907274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">7.  drm_dev_register( )</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685812" y="477.8081234907274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">8.  drm_fbdev_generic_setup( )</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 175.39558401685807 575.4423770607274 L 184.19146271685807 575.4423770607274 M 184.19146271685807 520.0283412507274 L 566.4047890765065 520.0283412507274 L 566.4047890765065 630.8564128707274 L 184.19146271685807 630.8564128707274 L 184.19146271685807 520.0283412507274" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="#FF8000" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685806" y="544.6568016107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_mode_funcs</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="336.2000652887721" y="544.6568016107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> = {</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685806" y="562.2485590107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .fb_create           = drm_gem_fb_create,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685806" y="579.8403164107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_check    = drm_atomic_helper_check,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685806" y="597.4320738107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_commit = drm_atomic_helper_commit,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685806" y="615.0238312107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">};</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 175.39558401685807 695.0663273807273 L 184.19146271685807 695.0663273807273 M 184.19146271685807 657.2440489707274 L 578.7025490862721 657.2440489707274 L 578.7025490862721 732.8886057907273 L 184.19146271685807 732.8886057907273 L 184.19146271685807 657.2440489707274" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="#FF8000" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685806" y="681.8725093307273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_mode_config_helpers</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="400.96742979072525" y="681.8725093307273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> = {</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685806" y="699.4642667307273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_commit_tail = vkms_atomic_commit_tail,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.81992307685806" y="717.0560241307273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">};</text></g><g><g><rect fill="white" stroke="none" x="330.96628519928" y="759.2762418907273" width="221.13996923660156" height="22.86928462"/></g><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="333.60504880928" y="775.1088235507273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vmks_output_init( )                   </text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 175.39558401685807 782.1455265107273 L 693.1930753589701 782.1455265107273" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(707.6769556183034,782.1455265107273) translate(-707.6769556183034,-782.1455265107273)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 693.0171577849701 774.8156275940606 L 707.6769556183034 782.1455265107273 L 693.0171577849701 789.475425427394 Z"/></g></g><g><g><rect fill="white" stroke="none" x="822.4605397963309" y="808.5331626107273" width="350.9965823957813" height="22.86928462"/></g><g><rect fill="#99ff99" stroke="none" x="825.0993034063308" y="811.3478437947273" width="124.48818969726562" height="17.767674974"/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="825.0993034063308" y="824.3657442707273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_plane_init( )</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="949.5874931035964" y="824.3657442707273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                                                   </text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 707.6769556183034 831.4024472307274 L 1273.756826110806 831.4024472307274" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1288.2407063701394,831.4024472307274) translate(-1288.2407063701394,-831.4024472307274)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1273.580908536806 824.0725483140607 L 1288.2407063701394 831.4024472307274 L 1273.580908536806 838.7323461473941 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1288.2407063701394 886.8164830407273 L 1297.0365850701394 886.8164830407273 M 1297.0365850701394 873.6226649907272 L 1297.0365850701394 873.6226649907272 A 15.832581659999999 15.832581659999999 0 0 1 1312.8691667301393 857.7900833307273 L 1776.316286068616 857.7900833307273 L 1776.316286068616 857.7900833307273 A 15.832581659999999 15.832581659999999 0 0 1 1792.1488677286159 873.6226649907272 L 1792.1488677286159 900.0103010907274 L 1792.1488677286159 900.0103010907274 A 15.832581659999999 15.832581659999999 0 0 1 1776.316286068616 915.8428827507273 L 1312.8691667301393 915.8428827507273 L 1312.8691667301393 915.8428827507273 A 15.832581659999999 15.832581659999999 0 0 1 1297.0365850701394 900.0103010907274 L 1297.0365850701394 873.6226649907272" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="882.4185436907273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drmm_universal_plane_alloc( ) // set </text><text fill="red" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1577.7137209672487" y="882.4185436907273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_plane_funcs</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="900.0103010907274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_plane_helper_add( )         // set </text><text fill="red" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1575.1009279984987" y="900.0103010907274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_primary_helper_funcs</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1288.2407063701394 1032.8280694607272 L 1297.0365850701394 1032.8280694607272 M 1297.0365850701394 942.2305188507273 L 1730.158908011819 942.2305188507273 L 1730.158908011819 1123.4256200707273 L 1297.0365850701394 1123.4256200707273 L 1297.0365850701394 942.2305188507273" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="#FF8000" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="966.8589792107272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_plane_funcs</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1447.0122286576784" y="966.8589792107272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> = {</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="984.4507366107272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .update_plane  = drm_atomic_helper_update_plane,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="1002.0424940107272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .disable_plane  = drm_atomic_helper_disable_plane,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="1019.6342514107272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .reset                = vkms_plane_reset,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="1054.817766210727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_duplicate_state = vkms_plane_duplicate_state,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="1072.409523610727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                                  // alloc </text><g><rect fill="#E5CCFF" stroke="none" x="1522.931814839319" y="1059.391623134727" width="122.06871032714844" height="17.767674974"/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1522.931814839319" y="1072.409523610727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_plane_state</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="1090.001281010727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_destroy_state    = vkms_plane_destroy_state,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="1107.593038410727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">};</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1288.2407063701394 1222.8190493807272 L 1297.0365850701394 1222.8190493807272 M 1297.0365850701394 1149.8132561707273 L 1882.7929259561552 1149.8132561707273 L 1882.7929259561552 1295.8248425907273 L 1297.0365850701394 1295.8248425907273 L 1297.0365850701394 1149.8132561707273" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="#FF8000" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="1174.441716530727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_primary_helper_funcs</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1514.0845248002565" y="1174.441716530727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> = {</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="1192.033473930727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_update  = vkms_plane_atomic_update,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="1209.625231330727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                                // 得到new_plane_state, 保存fb,src,dst到</text><g><rect fill="#E5CCFF" stroke="none" x="1736.0957094926393" y="1196.607330854727" width="122.06871032714844" height="17.767674974"/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1736.0957094926393" y="1209.625231330727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_plane_state</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="1227.216988730727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_check    = vkms_plane_atomic_check,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="1244.808746130727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .prepare_fb         = drm_gem_prepare_shadow_fb, </text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="1262.400503530727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .cleanup_fb         = drm_gem_cleanup_shadow_fb</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1321.6650454301393" y="1279.992260930727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">};</text></g><g><g><rect fill="white" stroke="none" x="878.8915927235183" y="1322.2124786907273" width="841.4825748274219" height="22.86928462"/></g><g><rect fill="#99ff99" stroke="none" x="881.5303563335183" y="1325.0271598747272" width="111.78240966796875" height="17.767674974"/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="881.5303563335183" y="1338.0450603507272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_crtc_init( )</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="993.312766001487" y="1338.0450603507272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                                                                                                                                                                       </text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 707.6769556183034 1345.0817633107272 L 1877.1049243968216 1345.0817633107272" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1891.588804656155,1345.0817633107272) translate(-1891.588804656155,-1345.0817633107272)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1876.9290068228215 1337.7518643940605 L 1891.588804656155 1345.0817633107272 L 1876.9290068228215 1352.411662227394 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1891.588804656155 1409.291677820727 L 1900.384683356155 1409.291677820727 M 1900.384683356155 1387.3019810707272 L 1900.384683356155 1387.3019810707272 A 15.832581659999999 15.832581659999999 0 0 1 1916.217265016155 1371.4693994107272 L 2368.7053236856864 1371.4693994107272 L 2368.7053236856864 1371.4693994107272 A 15.832581659999999 15.832581659999999 0 0 1 2384.5379053456863 1387.3019810707272 L 2384.5379053456863 1431.2813745707272 L 2384.5379053456863 1431.2813745707272 A 15.832581659999999 15.832581659999999 0 0 1 2368.7053236856864 1447.1139562307271 L 1916.217265016155 1447.1139562307271 L 1916.217265016155 1447.1139562307271 A 15.832581659999999 15.832581659999999 0 0 1 1900.384683356155 1431.2813745707272 L 1900.384683356155 1387.3019810707272" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1396.097859770727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1. drm_crtc_init_with_planes( ) // set </text><text fill="red" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2180.4605466702565" y="1396.097859770727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_crtc_funcs</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1413.689617170727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2. drm_crtc_helper_add( )        // set </text><text fill="red" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2177.8692380765065" y="1413.689617170727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_crtc_helper_funcs</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1431.281374570727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3. alloc_ordered_workqueue( ) //创建工作队列</text><g><rect fill="#6666ff" stroke="none" x="2239.9451505520924" y="1418.263474094727" width="119.9642333984375" height="17.767674974"/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2239.9451505520924" y="1431.281374570727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">composer_workq</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1891.588804656155 1678.445566040727 L 1900.384683356155 1678.445566040727 M 1900.384683356155 1473.5015923307271 L 2553.1847254140457 1473.5015923307271 L 2553.1847254140457 1883.3895397507272 L 1900.384683356155 1883.3895397507272 L 1900.384683356155 1473.5015923307271" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="#FF8000" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1498.1300526907269" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_crtc_funcs</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2037.654546914397" y="1498.1300526907269" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> = {</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1515.7218100907269" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .set_config                     = drm_atomic_helper_set_config,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1533.3135674907269" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .destroy                         = drm_crtc_cleanup,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1550.905324890727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .page_flip                       = drm_atomic_helper_page_flip,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1568.497082290727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .reset                              = vkms_atomic_crtc_reset,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1603.680597090727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_duplicate_state = vkms_atomic_crtc_duplicate_state,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1621.272354490727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                                  // alloc vkms_crtc_state</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1638.864111890727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                                  // 创建</text><g><rect fill="#99ccff" stroke="none" x="2118.685079751311" y="1625.846211414727" width="43.97996520996094" height="17.767674974"/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2118.685079751311" y="1638.864111890727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">工作项</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2162.665044961272" y="1638.864111890727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_composer_worker</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1656.455869290727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_destroy_state    = vkms_atomic_crtc_destroy_state,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1691.639384090727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .enable_vblank               = vkms_enable_vblank,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1709.231141490727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                                        // 为指定crtc创建一个定时器，以便周期性发出vblank</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1726.822898890727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                                        // 周期时长由 mode-&gt;crtc_clock得到</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1744.414656290727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                                        // 定时器处理函数则把</text><g><rect fill="#99ccff" stroke="none" x="2247.3321134427174" y="1731.396755814727" width="43.97996520996094" height="17.767674974"/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2247.3321134427174" y="1744.414656290727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">工作项</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2291.3120786526783" y="1744.414656290727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">添加到工作队列</text><g><rect fill="#6666ff" stroke="none" x="2393.9319974759205" y="1731.396755814727" width="119.9642333984375" height="17.767674974"/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2393.9319974759205" y="1744.414656290727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">composer_workq</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2513.896230874358" y="1744.414656290727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">中</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1762.006413690727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .disable_vblank              = vkms_disable_vblank,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1779.598171090727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .get_vblank_timestamp = vkms_get_vblank_timestamp,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1814.781685890727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .get_crc_sources            =  vkms_get_crc_sources,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1832.373443290727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .set_crc_source               = vkms_set_crc_source,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1849.965200690727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .verify_crc_source           = vkms_verify_crc_source,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1867.556958090727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">};</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1891.588804656155 1982.782969060727 L 1900.384683356155 1982.782969060727 M 1900.384683356155 1909.7771758507272 L 2264.086855540999 1909.7771758507272 L 2264.086855540999 2055.788762270727 L 1900.384683356155 2055.788762270727 L 1900.384683356155 1909.7771758507272" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="#FF8000" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1934.405636210727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_crtc_helper_funcs</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2088.749746499358" y="1934.405636210727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> = {</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1951.997393610727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_check = vkms_crtc_atomic_check,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1969.589151010727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_begin = vkms_crtc_atomic_begin,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="1987.180908410727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_flush   = vkms_crtc_atomic_flush,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="2004.772665810727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_enable = vkms_crtc_atomic_enable,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="2022.364423210727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_disable = vkms_crtc_atomic_disable,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1925.013143716155" y="2039.956180610727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">};</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 707.6769556183034 2119.9986767807272 L 716.4728343183034 2119.9986767807272 M 716.4728343183034 2098.008980030727 L 716.4728343183034 2098.008980030727 A 15.832581659999999 15.832581659999999 0 0 1 732.3054159783034 2082.176398370727 L 1177.37753531678 2082.176398370727 L 1177.37753531678 2082.176398370727 A 15.832581659999999 15.832581659999999 0 0 1 1193.21011697678 2098.008980030727 L 1193.21011697678 2141.988373530727 L 1193.21011697678 2141.988373530727 A 15.832581659999999 15.832581659999999 0 0 1 1177.37753531678 2157.820955190727 L 732.3054159783034 2157.820955190727 L 732.3054159783034 2157.820955190727 A 15.832581659999999 15.832581659999999 0 0 1 716.4728343183034 2141.988373530727 L 716.4728343183034 2098.008980030727" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><g><rect fill="#99ff00" stroke="none" x="741.1012946783034" y="2093.7869582547273" width="70.66572570800781" height="17.767674974"/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783034" y="2106.804858730727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">connector</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783034" y="2124.396616130727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_connector_init( )               // set </text><text fill="red" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="996.8564063726393" y="2124.396616130727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_connector_funcs</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783034" y="2141.988373530727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_connector_helper_add( )  // set </text><text fill="red" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="996.1192084966627" y="2141.988373530727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_conn_helper_funcs</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 707.6769556183034 2266.010263200727 L 716.4728343183034 2266.010263200727 M 716.4728343183034 2184.208591290727 L 1279.4448276701394 2184.208591290727 L 1279.4448276701394 2347.811935110727 L 716.4728343183034 2347.811935110727 L 716.4728343183034 2184.208591290727" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="#ff8000" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783035" y="2208.837051650727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_connector_funcs</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="898.3955299077957" y="2208.837051650727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> = {</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783035" y="2226.428809050727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .fill_modes = drm_helper_probe_single_connector_modes,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783035" y="2244.020566450727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .destroy     = vkms_connector_destroy,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783035" y="2261.612323850727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .reset         = drm_atomic_helper_connector_reset,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783035" y="2296.795838650727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_duplicate_state = drm_atomic_helper_connector_duplicate_state,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783035" y="2314.387596050727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .atomic_destroy_state    = drm_atomic_helper_connector_destroy_state,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783035" y="2331.979353450727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">};</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 707.6769556183034 2420.817728320727 L 716.4728343183034 2420.817728320727 M 716.4728343183034 2374.199571210727 L 1048.2995945158425 2374.199571210727 L 1048.2995945158425 2467.435885430727 L 716.4728343183034 2467.435885430727 L 716.4728343183034 2374.199571210727" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="#ff8000" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783034" y="2398.828031570727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_conn_helper_funcs</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="913.5637427984205" y="2398.828031570727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> = {</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783034" y="2416.419788970727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> .get_modes    = vkms_conn_get_modes,</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783034" y="2434.011546370727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">};</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 707.6769556183034 2531.645799940727 L 716.4728343183034 2531.645799940727 M 716.4728343183034 2509.6561031907268 L 716.4728343183034 2509.6561031907268 A 15.832581659999999 15.832581659999999 0 0 1 732.3054159783034 2493.823521530727 L 983.9129662249832 2493.823521530727 L 983.9129662249832 2493.823521530727 A 15.832581659999999 15.832581659999999 0 0 1 999.7455478849831 2509.6561031907268 L 999.7455478849831 2553.635496690727 L 999.7455478849831 2553.635496690727 A 15.832581659999999 15.832581659999999 0 0 1 983.9129662249832 2569.468078350727 L 732.3054159783034 2569.468078350727 L 732.3054159783034 2569.468078350727 A 15.832581659999999 15.832581659999999 0 0 1 716.4728343183034 2553.635496690727 L 716.4728343183034 2509.6561031907268" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><g><rect fill="#99ff00" stroke="none" x="741.1012946783034" y="2505.434081414727" width="57.31568908691406" height="17.767674974"/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783034" y="2518.451981890727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">encoder</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783034" y="2536.043739290727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_simple_encoder_init( )</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783034" y="2553.635496690727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_connector_attach_encoder( )</text></g><g><g><rect fill="white" stroke="none" x="925.5516800745339" y="2595.8557144507267" width="1418.5541995832812" height="22.86928462"/></g><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="928.1904436845339" y="2611.6882961107267" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vkms_enable_writeback_connector( )                                                                                                                                                                                                                                                                           </text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 707.6769556183034 2618.724999070727 L 2547.496723854712 2618.724999070727" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(2561.9806041140455,2618.724999070727) translate(-2561.9806041140455,-2618.724999070727)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 2547.320806280712 2611.3951001540604 L 2561.9806041140455 2618.724999070727 L 2547.320806280712 2626.0548979873934 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 707.6769556183034 2674.1390348807267 L 716.4728343183034 2674.1390348807267 M 716.4728343183034 2660.9452168307266 L 716.4728343183034 2660.9452168307266 A 15.832581659999999 15.832581659999999 0 0 1 732.3054159783034 2645.1126351707267 L 931.514986488655 2645.1126351707267 L 931.514986488655 2645.1126351707267 A 15.832581659999999 15.832581659999999 0 0 1 947.347568148655 2660.9452168307266 L 947.347568148655 2687.332852930727 L 947.347568148655 2687.332852930727 A 15.832581659999999 15.832581659999999 0 0 1 931.514986488655 2703.165434590727 L 732.3054159783034 2703.165434590727 L 732.3054159783034 2703.165434590727 A 15.832581659999999 15.832581659999999 0 0 1 716.4728343183034 2687.332852930727 L 716.4728343183034 2660.9452168307266" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><g><rect fill="#99ff00" stroke="none" x="741.1012946783034" y="2656.723195054727" width="34.2734375" height="17.767674974"/><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783034" y="2669.741095530727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">reset</text><text fill="black" stroke="none" font-family="mono" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="741.1012946783034" y="2687.332852930727" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_mode_config_reset( )</text></g></g><g/><g/><g/><g/><g/><g/></g></g></g></g></g></g></g></g></g></g></g></g></svg>