<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="547" height="1528"><desc>title%20Init%20CRTC%0A%0A%0ADriver%20-%3Edrm_drv%3A%3Ccolor%3A%23ff0066%3Edrm_crtc_init_with_planes%3C%2Fcolor%3E(%20)%0Arbox%20over%20drm_drv%3A__drm_crtc_init_with_planes()%5Cn%20%20%20%20%201.%20%E9%94%81%E5%92%8C%E9%93%BE%E8%A1%A8%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%5Cn%20%20%20%20%202.%20drm_mode_object_add(%20)%20%20%20%5C%2F%5C%2F%20crct%20object%5Cn%20%20%20%20%203.%20%E6%B7%BB%E5%8A%A0%E5%88%B0config-%3Ecrtc_list%E9%93%BE%E8%A1%A8%5Cn%20%20%20%20%204.%20drm_crtc_crc_init()%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%2F%5C%2F%20for%20debug%5Cn%20%20%20%20%205.%20drm_object_attach_property()%20%5C%2F%5C%2F%20attach%E5%B1%9E%E6%80%A7%E5%88%B0%20crtc%20object%0Arbox%20over%20drm_drv%3Aset%20crtc-%3Efuncs%5Cn%3Ccolor%3A%23red%3Edrm_crtc_funcs%3C%2Fcolor%3E%7B%5Cn%20%20%20%20%20%20%20%20%20reset()%5Cn%20%20%20%20%20%20%20%20%20cursor_set()%5Cn%20%20%20%20%20%20%20%20%20cursor_set2()%5Cn%20%20%20%20%20%20%20%20%20cursor_move()%5Cn%20%20%20%20%20%20%20%20%20gamma_set()%20%20%20%20%20%5Cn%20%20%20%20%20%20%20%20%20destroy()%5Cn%20%20%20%20%20%20%5Cn%20%20%20%20%20%20%20%20%20set_config()%5Cn%20%20%20%20%20%20%20%20%20page_flip()%5Cn%20%20%20%20%20%20%20%20%20page_flip_target()%5Cn%20%5Cn%20%20%20%20%20%20%20%20%20set_property()%5Cn%20%20%20%20%20%20%20%20%20atomic_duplicate_state()%5Cn%20%20%20%20%20%20%20%20%20atomic_destroy_state()%5Cn%20%20%20%20%20%20%20%20%20atomic_set_property()%5Cn%20%20%20%20%20%20%20%20%20atomic_get_property()%5Cn%20%20%20%20%20%20%20%20%20atomic_print_state()%5Cn%5Cn%20%20%20%20%20%20%20%20%20late_register()%5Cn%20%20%20%20%20%20%20%20%20early_unregister()%5Cn%5Cn%20%20%20%20%20%20%20%20%20set_crc_source()%20%5Cn%20%20%20%20%20%20%20%20%20verify_crc_source()%5Cn%20%20%20%20%20%20%20%20%20get_crc_sources()%5Cn%5Cn%20%20%20%20%20%20%20%20%20get_vblank_counter()%5Cn%20%20%20%20%20%20%20%20%20enable_vblank()%5Cn%20%20%20%20%20%20%20%20%20disable_vblank()%5Cn%20%20%20%20%20%20%20%20%20get_vblank_timestamp()%5Cn%7D%0ADriver-%3Edrm_drv%3A%3Ccolor%3A%23ff0066%3Edrm_crtc_helper_add%3C%2Fcolor%3E(%20)%0Arbox%20over%20drm_drv%3Acrtc-%3Ehelper_private%20%3D%20funcs%5Cn%5Cn%3Ccolor%3A%23ff0066%3Edrm_crtc_helper_funcs%3C%2Fcolor%3E%7B%5Cn%20%20%20%20%20%20%20%20dpms()%5Cn%20%20%5Cn%20%20%20%20%20%20%20%20%5C%2F%5C%2F%E5%8F%82%E8%80%83drmModeSetCrtc%E7%9A%84%E6%B5%81%E7%A8%8B%EF%BC%8C%E5%8F%AF%E6%89%BE%E5%88%B0%E4%BB%A5%E4%B8%8Bcallbakc%E7%9A%84%E8%B0%83%E7%94%A8%5Cn%20%20%20%20%20%20%20%20mode_valid()%5Cn%20%20%20%20%20%20%20%20mode_fixup()%5Cn%20%20%20%20%20%20%20%20prepare()%5Cn%20%20%20%20%20%20%20%20mode_set()%5Cn%20%20%20%20%20%20%20%20commit()%5Cn%5Cn%20%20%20%20%20%20%20%20mode_set_nofb()%5Cn%20%20%20%20%20%20%20%20mode_set_base()%5Cn%20%20%20%20%20%20%20%20mode_set_base_atomic()%5Cn%20%20%20%20%20%20%20%20disable()%5Cn%5Cn%20%20%20%20%20%20%20%20atomic_check()%5Cn%20%20%20%20%20%20%20%20atomic_begin()%5Cn%20%20%20%20%20%20%20%20atomic_flush()%5Cn%20%20%20%20%20%20%20%20atomic_enable()%5Cn%20%20%20%20%20%20%20%20atomic_disable()%5Cn%20%20%20%20%20%20%20%20%5Cn%20%20%20%20%20%20%20%20get_scanout_position()%5Cn%7D</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="547" height="1528"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 48.97455687792578 103.10369087072726 L 48.97455687792578 1528.0360402707277" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 298.2578665800156 103.10369087072726 L 298.2578665800156 1528.0360402707277" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 55.60594589072727 L 89.15323505585155 55.60594589072727 L 89.15323505585155 103.10369087072726 L 8.795878699999996 103.10369087072726 L 8.795878699999996 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Driver</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 249.89019304076172 55.60594589072727 L 346.62554011926954 55.60594589072727 L 346.62554011926954 103.10369087072726 L 249.89019304076172 103.10369087072726 L 249.89019304076172 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="268.9772498197617" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_drv</text></g></g><g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16pt" font-style="normal" font-weight="normal" text-decoration="normal" x="227.293701171875" y="26.547561167272725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Init CRTC</text></g><g><g><rect fill="white" stroke="none" x="74.53863586311134" y="138.28720567072727" width="198.15515173171875" height="22.86928462"/></g><text fill="#ff0066" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="77.17739947311134" y="154.1197873307273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_crtc_init_with_planes</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="255.92474444381446" y="154.1197873307273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">( )</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 48.97455687792578 161.15649029072728 L 283.7739863206823 161.15649029072728" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(298.2578665800156,161.15649029072728) translate(-298.2578665800156,-161.15649029072728)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 283.59806874668226 153.8265913740606 L 298.2578665800156 161.15649029072728 L 283.59806874668226 168.48638920739396 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 57.77043557792578 203.37670805072727 L 57.77043557792578 203.37670805072727 A 15.832581659999999 15.832581659999999 0 0 1 73.60301723792578 187.54412639072729 L 522.9127159221055 187.54412639072729 L 522.9127159221055 187.54412639072729 A 15.832581659999999 15.832581659999999 0 0 1 538.7452975821054 203.37670805072727 L 538.7452975821054 300.1313737507273 L 538.7452975821054 300.1313737507273 A 15.832581659999999 15.832581659999999 0 0 1 522.9127159221055 315.9639554107273 L 73.60301723792578 315.9639554107273 L 73.60301723792578 315.9639554107273 A 15.832581659999999 15.832581659999999 0 0 1 57.77043557792578 300.1313737507273 L 57.77043557792578 203.37670805072727" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="82.39889593792577" y="212.1725867507273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">__drm_crtc_init_with_planes()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="82.39889593792577" y="229.7643441507273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">     1. 锁和链表的初始化</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="82.39889593792577" y="247.35610155072732" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">     2. drm_mode_object_add( )   // crct object</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="82.39889593792577" y="264.9478589507273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">     3. 添加到config-&gt;crtc_list链表</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="82.39889593792577" y="282.53961635072733" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">     4. drm_crtc_crc_init()              // for debug</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="82.39889593792577" y="300.13137375072733" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">     5. drm_object_attach_property() // attach属性到 crtc object</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 169.41683602958594 358.1841731707273 L 169.41683602958594 358.1841731707273 A 15.832581659999999 15.832581659999999 0 0 1 185.24941768958593 342.3515915107273 L 411.26631547044525 342.3515915107273 L 411.26631547044525 342.3515915107273 A 15.832581659999999 15.832581659999999 0 0 1 427.09889713044527 358.1841731707273 L 427.09889713044527 912.3245312707274 L 427.09889713044527 912.3245312707274 A 15.832581659999999 15.832581659999999 0 0 1 411.26631547044525 928.1571129307274 L 185.24941768958593 928.1571129307274 L 185.24941768958593 928.1571129307274 A 15.832581659999999 15.832581659999999 0 0 1 169.41683602958594 912.3245312707274 L 169.41683602958594 358.1841731707273" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="366.9800518707273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">set crtc-&gt;funcs</text><text fill="red" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="384.57180927072733" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_crtc_funcs</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="299.1706015653672" y="384.57180927072733" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">{</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="402.16356667072733" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         reset()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="419.75532407072734" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         cursor_set()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="437.34708147072735" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         cursor_set2()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="454.93883887072735" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         cursor_move()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="472.53059627072736" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         gamma_set()     </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="490.12235367072736" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         destroy()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="507.71411107072737" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">      </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="525.3058684707273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         set_config()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="542.8976258707273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         page_flip()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="560.4893832707273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         page_flip_target()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="578.0811406707273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="595.6728980707273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         set_property()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="613.2646554707273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         atomic_duplicate_state()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="630.8564128707274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         atomic_destroy_state()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="648.4481702707274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         atomic_set_property()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="666.0399276707274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         atomic_get_property()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="683.6316850707274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         atomic_print_state()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="718.8151998707274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         late_register()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="736.4069572707274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         early_unregister()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="771.5904720707274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         set_crc_source() </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="789.1822294707274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         verify_crc_source()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="806.7739868707274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         get_crc_sources()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="841.9575016707274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         get_vblank_counter()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="859.5492590707274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         enable_vblank()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="877.1410164707274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         disable_vblank()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="894.7327738707274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         get_vblank_timestamp()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="194.04529638958593" y="912.3245312707274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">}</text></g><g><g><rect fill="white" stroke="none" x="91.0168005359629" y="954.5447490307274" width="165.19882238601562" height="22.86928462"/></g><text fill="#ff0066" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="93.6555641459629" y="970.3773306907274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_crtc_helper_add</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="239.4465797709629" y="970.3773306907274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">( )</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 48.97455687792578 977.4140336507274 L 283.7739863206823 977.4140336507274" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(298.2578665800156,977.4140336507274) translate(-298.2578665800156,-977.4140336507274)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 283.59806874668226 970.0841347340607 L 298.2578665800156 977.4140336507274 L 283.59806874668226 984.7439325673942 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 59.26293588310156 1019.6342514107275 L 59.26293588310156 1019.6342514107275 A 15.832581659999999 15.832581659999999 0 0 1 75.09551754310156 1003.8016697507276 L 521.4202156169297 1003.8016697507276 L 521.4202156169297 1003.8016697507276 A 15.832581659999999 15.832581659999999 0 0 1 537.2527972769296 1019.6342514107275 L 537.2527972769296 1450.6323077107277 L 537.2527972769296 1450.6323077107277 A 15.832581659999999 15.832581659999999 0 0 1 521.4202156169297 1466.4648893707276 L 75.09551754310156 1466.4648893707276 L 75.09551754310156 1466.4648893707276 A 15.832581659999999 15.832581659999999 0 0 1 59.26293588310156 1450.6323077107277 L 59.26293588310156 1019.6342514107275" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1028.4301301107273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">crtc-&gt;helper_private = funcs</text><text fill="#ff0066" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1063.6136449107273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_crtc_helper_funcs</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="240.11190100384374" y="1063.6136449107273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">{</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1081.2054023107273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        dpms()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1098.7971597107273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">  </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1116.3889171107273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        //参考drmModeSetCrtc的流程，可找到以下callbakc的调用</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1133.9806745107273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        mode_valid()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1151.5724319107273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        mode_fixup()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1169.1641893107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        prepare()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1186.7559467107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        mode_set()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1204.3477041107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        commit()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1239.5312189107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        mode_set_nofb()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1257.1229763107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        mode_set_base()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1274.7147337107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        mode_set_base_atomic()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1292.3064911107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        disable()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1327.4900059107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        atomic_check()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1345.0817633107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        atomic_begin()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1362.6735207107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        atomic_flush()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1380.2652781107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        atomic_enable()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1397.8570355107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        atomic_disable()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1415.4487929107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1433.0405503107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        get_scanout_position()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.89139624310155" y="1450.6323077107274" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">}</text></g></g><g/><g/></g></svg>