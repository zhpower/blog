<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="833" height="1274"><desc>title%20cma_helper%20for%20gem%0A%0A%0Aparticipant%20drm_gem%0Aparticipant%20cma_helper%0A%0A%3D%3Ddrm_gem_cma_get_sg_table%3D%3D%0Acma_helper%3C-drm_gem%3Adrm_gem_cma_get_sg_table()%0Arbox%20right%20of%20cma_helper%3A1.%20kzalloc(sizeof())%5Cn2.%20dma_get_sgtable(%20)%20%5C%2F%5C%2F%E8%B0%83%E7%94%A8dma%E6%8E%A5%E5%8F%A3%E5%BE%97%E5%88%B0%E6%95%A3%E5%88%97%E8%A1%A8%0A%3D%3Ddrm_gem_cma_vmap%3D%3D%0Acma_helper%3C-drm_gem%3Adrm_gem_cma_vmap(%20)%0Arbox%20right%20of%20cma_helper%3Adma_buf_map_set_vaddr(%20cma_obj-%3Evaddr)%5Cn%5C%2F%5C%2F%E8%AE%BE%E5%AE%9Adma-buf%20%E6%98%A0%E5%B0%84%E5%88%B0%E7%B3%BB%E7%BB%9F%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E6%8C%87%E5%AE%9A%E5%9C%B0%E5%9D%80%2C%20%5Cn%5C%2F%5C%2Fcma_obj-%3Evaddr%E5%B7%B2%E7%BB%8F%E5%9C%A8drm_gem_shmem_dumb_create(%20)%E5%BE%97%E5%88%B0%E3%80%82%0A%3D%3Ddrm_gem_cma_mmap%3D%3D%0Adrm_gem-%3Ecma_helper%3Adrm_gem_cma_mmap(%20)%0Arbox%20right%20of%20cma_helper%3A%5C%2F%5C%2F%E8%B0%83%E7%94%A8dma%E6%8E%A5%E5%8F%A3%E8%BF%9B%E8%A1%8Cmap%5Cn%5Cndma_mmap_pages(%20)%5Cn%3Ccolor%3A%23green%3Eor%3C%2Fcolor%3E%5Cndma_map_wc(%20)%5Cn%5Cn%0A%3D%3Ddrm_gem_cma_free_object%3D%3D%0Acma_helper%3C-drm_gem%3Adrm_gem_cma_free_object(%20)%0Arbox%20right%20of%20cma_helper%3A%20%20%5C%2F%5C%2F%E8%B0%83%E7%94%A8dma%E6%8E%A5%E5%8F%A3%E9%87%8A%E6%94%BE%5Cn1.%20dma_free_noncoherent()%5Cn%20%20%20%3Ccolor%3A%23green%3Eor%3C%2Fcolor%3E%5Cn%20%20%20dma_free_wc(%20)%5Cn%5Cn2.%20drm_gem_object_release(%20)%5Cn%20%20%20%20%20a.%20fput(obj-%3Efilp)%5Cn%20%20%20%20%20b.%20dma_resv_fini()%5Cn%20%20%20%20%20c.%20drm_gem_free_mmap_offset()%20%5C%2F%5C%2F%E5%8F%82%E8%80%83cma%20dumb%20create%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%5C-%5C-%3Edrm_vma_offset_remove(%20)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C-%5C-%3Edrm_mm_remove_node(%20)%5Cn%5Cn3.%20kfree(cma_obj)</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="833" height="1274"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 61.2258309868125 103.10369087072726 L 61.2258309868125 1274.7147337107274" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 314.5581435261354 103.10369087072726 L 314.5581435261354 1274.7147337107274" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 55.60594589072727 L 113.65578327362499 55.60594589072727 L 113.65578327362499 103.10369087072726 L 8.795878699999996 103.10369087072726 L 8.795878699999996 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_gem</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 255.32792115875648 55.60594589072727 L 373.7883658935143 55.60594589072727 L 373.7883658935143 103.10369087072726 L 255.32792115875648 103.10369087072726 L 255.32792115875648 55.60594589072727 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="274.4149779377565" y="85.51193347072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">cma_helper</text></g></g><g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16pt" font-style="normal" font-weight="normal" text-decoration="normal" x="314.364990234375" y="26.547561167272725" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">cma_helper for gem</text></g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 8.7958787 152.65380754739394 L 824.2041213 152.65380754739394 M 8.7958787 158.51772668072726 L 824.2041213 158.51772668072726 M 8.7958787 164.3816458140606 L 824.2041213 164.3816458140606" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 293.5572696204688 138.28720567072725 L 539.4427303795312 138.28720567072725 L 539.4427303795312 178.74824769072723 L 293.5572696204688 178.74824769072723 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="318.18572998046875" y="162.9156660307273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_gem_cma_get_sg_table</text></g><g><g><rect fill="white" stroke="none" x="82.04274391014583" y="205.13588379072726" width="211.69848669265625" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="84.68150752014583" y="220.96846545072728" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_gem_cma_get_sg_table()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 61.2258309868125 228.00516841072726 L 300.07426326680206 228.00516841072726" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(314.5581435261354,228.00516841072726) translate(-314.5581435261354,-228.00516841072726)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 299.898345692802 220.6752694940606 L 314.5581435261354 228.00516841072726 L 299.898345692802 235.33506732739394 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 314.5581435261354 283.41920422072724 L 323.3540222261354 283.41920422072724 M 323.3540222261354 270.2253861707273 L 323.3540222261354 270.2253861707273 A 15.832581659999999 15.832581659999999 0 0 1 339.1866038861354 254.3928045107273 L 686.2200727119166 254.39280451072727 L 686.2200727119166 254.3928045107273 A 15.832581659999999 15.832581659999999 0 0 1 702.0526543719166 270.2253861707273 L 702.0526543719166 296.61302227072724 L 702.0526543719166 296.61302227072724 A 15.832581659999999 15.832581659999999 0 0 1 686.2200727119166 312.44560393072726 L 339.1866038861354 312.44560393072726 L 339.1866038861354 312.44560393072726 A 15.832581659999999 15.832581659999999 0 0 1 323.3540222261354 296.61302227072724 L 323.3540222261354 270.2253861707273" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="279.02126487072724" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1. kzalloc(sizeof())</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="296.61302227072724" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2. dma_get_sgtable( ) //调用dma接口得到散列表</text></g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 8.7958787 353.1998419073939 L 824.2041213 353.1998419073939 M 8.7958787 359.06376104072723 L 824.2041213 359.06376104072723 M 8.7958787 364.9276801740606 L 824.2041213 364.9276801740606" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 317.9130282874609 338.83324003072727 L 515.086971712539 338.83324003072727 L 515.086971712539 379.29428205072725 L 317.9130282874609 379.29428205072725 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="342.54148864746094" y="363.46170039072723" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_gem_cma_vmap</text></g><g><g><rect fill="white" stroke="none" x="104.22957252342708" y="405.68191815072726" width="167.32482946609375" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="106.86833613342708" y="421.5144998107273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_gem_cma_vmap( )</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 61.2258309868125 428.55120277072723 L 300.07426326680206 428.55120277072723" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(314.5581435261354,428.55120277072723) translate(-314.5581435261354,-428.55120277072723)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 299.898345692802 421.2213038540606 L 314.5581435261354 428.55120277072723 L 299.898345692802 435.8811016873939 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 314.5581435261354 492.76111728072726 L 323.3540222261354 492.76111728072726 M 323.3540222261354 470.77142053072726 L 323.3540222261354 470.77142053072726 A 15.832581659999999 15.832581659999999 0 0 1 339.1866038861354 454.93883887072724 L 809.1693372382838 454.93883887072724 L 809.1693372382838 454.93883887072724 A 15.832581659999999 15.832581659999999 0 0 1 825.0019188982837 470.77142053072726 L 825.0019188982837 514.7508140307273 L 825.0019188982837 514.7508140307273 A 15.832581659999999 15.832581659999999 0 0 1 809.1693372382838 530.5833956907272 L 339.1866038861354 530.5833956907272 L 339.1866038861354 530.5833956907272 A 15.832581659999999 15.832581659999999 0 0 1 323.3540222261354 514.7508140307273 L 323.3540222261354 470.77142053072726" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="479.56729923072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">dma_buf_map_set_vaddr( cma_obj-&gt;vaddr)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="497.15905663072726" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//设定dma-buf 映射到系统内存中的指定地址, </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="514.7508140307273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//cma_obj-&gt;vaddr已经在drm_gem_shmem_dumb_create( )得到。</text></g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 8.7958787 571.3376336673939 L 824.2041213 571.3376336673939 M 8.7958787 577.2015528007272 L 824.2041213 577.2015528007272 M 8.7958787 583.0654719340605 L 824.2041213 583.0654719340605" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 314.8922687049414 556.9710317907271 L 518.1077312950586 556.9710317907271 L 518.1077312950586 597.4320738107272 L 314.8922687049414 597.4320738107272 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="339.5207290649414" y="581.5994921507272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_gem_cma_mmap</text></g><g><g><rect fill="white" stroke="none" x="101.20881294090755" y="623.8197099107272" width="173.3663486311328" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="103.84757655090755" y="639.6522915707271" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_gem_cma_mmap( )</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 61.2258309868125 646.6889945307272 L 300.07426326680206 646.6889945307272" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(314.5581435261354,646.6889945307272) translate(-314.5581435261354,-646.6889945307272)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 299.898345692802 639.3590956140605 L 314.5581435261354 646.6889945307272 L 299.898345692802 654.0188934473939 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 314.5581435261354 746.0824238407273 L 323.3540222261354 746.0824238407273 M 323.3540222261354 688.9092122907273 L 323.3540222261354 688.9092122907273 A 15.832581659999999 15.832581659999999 0 0 1 339.1866038861354 673.0766306307273 L 519.6846265449245 673.0766306307273 L 519.6846265449245 673.0766306307273 A 15.832581659999999 15.832581659999999 0 0 1 535.5172082049245 688.9092122907273 L 535.5172082049245 803.2556353907273 L 535.5172082049245 803.2556353907273 A 15.832581659999999 15.832581659999999 0 0 1 519.6846265449245 819.0882170507273 L 339.1866038861354 819.0882170507273 L 339.1866038861354 819.0882170507273 A 15.832581659999999 15.832581659999999 0 0 1 323.3540222261354 803.2556353907273 L 323.3540222261354 688.9092122907273" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.9824825861354" y="697.7050909907273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//调用dma接口进行map</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.9824825861354" y="732.8886057907273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">dma_mmap_pages( )</text><text fill="green" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.9824825861354" y="750.4803631907273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">or</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.9824825861354" y="768.0721205907273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">dma_map_wc( )</text></g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 8.7958787 859.842455027394 L 824.2041213 859.842455027394 M 8.7958787 865.7063741607273 L 824.2041213 865.7063741607273 M 8.7958787 871.5702932940605 L 824.2041213 871.5702932940605" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 298.65748171763676 845.4758531507272 L 534.3425182823632 845.4758531507272 L 534.3425182823632 885.9368951707272 L 298.65748171763676 885.9368951707272 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="323.2859420776367" y="870.1043135107273" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_gem_cma_free_object</text></g><g><g><rect fill="white" stroke="none" x="84.97402595360286" y="912.3245312707272" width="205.83592260574218" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="87.61278956360286" y="928.1571129307272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_gem_cma_free_object( )</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 61.2258309868125 935.1938158907273 L 300.07426326680206 935.1938158907273" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(314.5581435261354,935.1938158907273) translate(-314.5581435261354,-935.1938158907273)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 299.898345692802 927.8639169740605 L 314.5581435261354 935.1938158907273 L 299.898345692802 942.523714807394 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 314.5581435261354 1087.3625174007273 L 323.3540222261354 1087.3625174007273 M 323.3540222261354 977.4140336507273 L 323.3540222261354 977.4140336507273 A 15.832581659999999 15.832581659999999 0 0 1 339.1866038861354 961.5814519907274 L 770.0711774482447 961.5814519907274 L 770.0711774482447 961.5814519907274 A 15.832581659999999 15.832581659999999 0 0 1 785.9037591082447 977.4140336507273 L 785.9037591082447 1197.3110011507274 L 785.9037591082447 1197.3110011507274 A 15.832581659999999 15.832581659999999 0 0 1 770.0711774482447 1213.1435828107274 L 339.1866038861354 1213.1435828107274 L 339.1866038861354 1213.1435828107274 A 15.832581659999999 15.832581659999999 0 0 1 323.3540222261354 1197.3110011507274 L 323.3540222261354 977.4140336507273" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="986.2099123507272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> //调用dma接口释放</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="1003.8016697507272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1. dma_free_noncoherent()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="1021.3934271507272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">   </text><text fill="green" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="360.996062908401" y="1021.3934271507272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">or</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="1038.9851845507271" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">   dma_free_wc( )</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="1074.1686993507271" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2. drm_gem_object_release( )</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="1091.7604567507271" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">     a. fput(obj-&gt;filp)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="1109.3522141507271" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">     b. dma_resv_fini()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="1126.9439715507272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">     c. drm_gem_free_mmap_offset() //参考cma dumb create</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="1144.5357289507272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">            --&gt;drm_vma_offset_remove( )</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="1162.1274863507272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                        --&gt;drm_mm_remove_node( )</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="347.98248258613535" y="1197.3110011507272" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3. kfree(cma_obj)</text></g></g><g/><g/></g></svg>