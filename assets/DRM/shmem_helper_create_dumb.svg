<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1862" height="1887"><desc>title%20drm_gem_shmem_helper%0A%0A%0Aparticipant%20driver%0A%0A%0Aparticipant%20shmem_helper%0Aparticipant%20drm_gem%0Aparticipant%20vma_mamager%0Aparticipant%20drm_mm%0A%0A%0Anote%20over%20shmem_helper%3A%23define%20DRM_GEM_SHMEM_DRIVER_OPS%20%5Cn%09%09.prime_handle_to_fd%09%20%20%20%3D%20drm_gem_prime_handle_to_fd%2C%5Cn%09%09.prime_fd_to_handle%09%20%20%20%3D%20drm_gem_prime_fd_to_handle%2C%5Cn%09%09.gem_prime_import_sg_table%20%3Ddrm_gem_shmem_prime_import_sg_table%2C%5Cn%09%09.gem_prime_mmap%09%09%20%20%20%3D%20drm_gem_prime_mmap%2C%20%5Cn%09%09.dumb_create%09%09%20%20%20%3D%20drm_gem_shmem_dumb_create%5Cn%0A%3D%3Dcreate%20dumb%3D%3D%0Adriver%20-%3E%20shmem_helper%3Adrm_gem_shmem_dumb_create(%20)%5Cn%20%20%20%20%20%20%20%20%20%5C-%5C-%3Edrm_gem_shmem_create_with_handle(%20)%5Cn%0Arbox%20right%20of%20shmem_helper%3A%3Cbackground%3A%23yellow%3E1.%20drm_gem_shmem_create%3C%2Fbackground%3E(%20)%20%20%5C-%5C-%3E%20%3Ccolor%3A%23red%3Edrm_gem_shmem_object%3C%2Fcolor%3E%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20__drm_gem_shmem_create(%20)%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a.%20%5C%2F%5C%2F%E5%88%86%E9%85%8Dgem_object%E5%86%85%E5%AD%98%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if(%20driver-%3Egem_create_object%20%EF%BC%81%3D%20NULL)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gem_obj%20%3D%20driver-%3Egem_create_object(%20)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20or%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gem_obj%20%3D%20kzalloc(%20)%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20b.%20%5C%2F%5C%2F%E8%AE%BE%E7%BD%AEfuncs%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20obj-%3Efuncs%20%3D%20%26%3Ccolor%3A%23blue%3Edrm_gem_shmem_funcs%3C%2Fcolor%3E%0A%0Anote%20left%20of%20shmem_helper%3A%3Ccolor%3A%23blue%3Edrm_gem_shmem_funcs%3C%2Fcolor%3E%20%3D%20%7B%5Cn%20%20%20%20%20%20%20%20.free%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3D%20drm_gem_shmem_object_free%2C%5Cn%20%20%20%20%20%20%20%20.print_info%20%20%20%20%20%3D%20drm_gem_shmem_object_print_info%2C%5Cn%20%20%20%20%20%20%20%20.pin%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3D%20drm_gem_shmem_object_pin%2C%5Cn%20%20%20%20%20%20%20%20.unpin%20%20%20%20%20%20%20%20%20%20%20%20%3D%20drm_gem_shmem_object_unpin%2C%5Cn%20%20%20%20%20%20%20%20.get_sg_table%20%3D%20drm_gem_shmem_object_get_sg_table%2C%5Cn%20%20%20%20%20%20%20%20.vmap%20%20%20%20%20%20%20%20%20%20%20%20%3D%20drm_gem_shmem_object_vmap%2C%5Cn%20%20%20%20%20%20%20%20.vunmap%20%20%20%20%20%20%20%20%3D%20drm_gem_shmem_object_vunmap%2C%5Cn%20%20%20%20%20%20%20%20.mmap%20%20%20%20%20%20%20%20%20%20%20%3D%20drm_gem_shmem_object_mmap%2C%5Cn%7D%3B%0Ashmem_helper%20-%3E%20drm_gem%3Ac.%20%5C%2F%5C%2F%E5%88%9D%E5%A7%8B%E5%8C%96%20gem_obj%5Cn%20%20%20drm_gem_object_init(%20)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0Arbox%20right%20of%20drm_gem%3A1.%20drm_gem_private_object_init(%20)%5Cn%5Cn%20%20%20%20%20%20a.kref_init()%5Cn%5Cn%20%20%20%20%20%20b.dma_rest_init()%5Cn%20%20%20%20%20%20%20%20%5C%2F%5C%2F%20%3Ccolor%3A%23red%3Estruct%20dma_resv%3C%2Fcolor%3E%2C%E7%94%A8%E5%AE%83%E6%9D%A5%E7%AE%A1%E7%90%86%E4%B8%80%E7%BB%84dma-fences%5Cn%5Cn%20%20%20%20%20%20c.%20drm_vma_node_reset()%5Cn%20%20%20%20%20%20%20%20%5C%2F%5C%2F%20%3Ccolor%3A%23red%3Estruct%20drm_vma_offset_node%2C%20%3C%2Fcolor%3E%5Cn%20%20%20%20%20%20%20%20%5C%2F%5C%2F%20Mapping%20info%20for%20this%20object%20to%20support%20mmap%5Cn%5Cn2.%20shmem_file_setup(%20)%5Cn%20%20%20%5C%2F%5C%2F%E7%94%A8%E4%BA%8E%E5%88%9B%E5%BB%BA%E5%8C%BF%E5%90%8D%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%5Cn%0Ashmem_helper-%3Edrm_gem%3Ad.%20%5C%2F%5C%2F%20mmap_offset%5Cn%20%20%20drm_gem_create_mmap_offset(%20)%5Cn%20%20%20%20%20%20%20%5C-%5C-%3Edrm_gem_create_mmap_offset_size(%20)%0A%0A%0Adrm_gem%20-%3E%20vma_mamager%3Adrm_vms_offset_add(%20)%0Avma_mamager-%3Edrm_mm%3Adrm_mm_insert_node_generic()%20%5Cndrm_mm_insert_node_in_range(%20)%0A%0A%0A%0A%0A%0A%0A%0Ashmem_helper-%3Edrm_gem%3A%3Cbackground%3A%23yellow%3E2.%20drm_gem_handle_create%3C%2Fbackground%3E(%20)%5Cn%20%20%20%20%20%20%20%5C-%5C-%3Edrm_gem_handle_create_tail(%20)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0Arbox%20right%20of%20drm_gem%3A1.%20idr_alloc()%20%5C%2F%5C%2F%E5%88%86%E9%85%8D%E4%B8%80%E4%B8%AA%E6%AD%A3%E5%BC%8FID%5Cn%5Cn2.%20drm_vma_node_allow(%20)%20%5Cn%20%20%20%20%5C%2F%5C%2F%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AAdrm_file%E5%88%B0%E8%AF%A5gem_obj%E7%9A%84%E7%94%A8%E6%88%B7%E5%88%97%E8%A1%A8%5Cn%20%20%20%20%5C%2F%5C%2Fdrm_file%E5%AF%B9%E5%BA%94%E5%88%B0%E4%B8%80%E4%B8%AAApp%20%E6%89%93%E5%BC%80%E7%9A%84drm%5Cn%5Cn3.%20if%20no%20NULL%5Cn%20%20%20%20%20%20gem_obj-%3Efuncs-%3E%3Ccolor%3A%23red%3Eopen%3C%2Fcolor%3E(%20)%0Ashmem_helper-%3Edrm_gem%3A%3Cbackground%3A%23yellow%3E3.%20drm_gem_object_put%3C%2Fbackground%3E(%20)%5Cn%20%20%20%20%20%5C-%5C-%3E%20__drm_gem_object_put()%5Cn%20%20%20%20%20%20%20%20%20%20%5C-%5C-%3Ekref_put(%26obj-%3Erefcount%2C%20drm_gem_object_free)%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1862" height="1887"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="799.2150720733815" y="26.3876361" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_gem_shmem_helper</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 48.07978148730078 103.26361593799999 L 48.07978148730078 1887.0678162979996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 533.189018689332 103.26361593799999 L 533.189018689332 1887.0678162979996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1080.74423161928 103.26361593799999 L 1080.74423161928 1887.0678162979996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1524.2141865947488 103.26361593799999 L 1524.2141865947488 1887.0678162979996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1803.237264514931 103.26361593799999 L 1803.237264514931 1887.0678162979996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 55.765870957999994 L 87.36368427460155 55.765870957999994 L 87.36368427460155 103.26361593799999 L 8.795878699999996 103.26361593799999 L 8.795878699999996 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">driver</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 462.7526348229296 55.765870957999994 L 603.6254025557344 55.765870957999994 L 603.6254025557344 103.26361593799999 L 462.7526348229296 103.26361593799999 L 462.7526348229296 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="481.83969160192964" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">shmem_helper</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1028.3142793324675 55.765870957999994 L 1133.1741839060926 55.765870957999994 L 1133.1741839060926 103.26361593799999 L 1028.3142793324675 103.26361593799999 L 1028.3142793324675 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1047.4013361114676" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_gem</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1453.5881054627214 55.765870957999994 L 1594.8402677267761 55.765870957999994 L 1594.8402677267761 103.26361593799999 L 1453.5881054627214 103.26361593799999 L 1453.5881054627214 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1472.6751622417214" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">vma_mamager</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1752.786552645599 55.765870957999994 L 1853.687976384263 55.765870957999994 L 1853.687976384263 103.26361593799999 L 1752.786552645599 103.26361593799999 L 1752.786552645599 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1771.873609424599" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_mm</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 248.59272385667572 138.447130738 L 801.9527318619882 138.447130738 L 817.7853135219882 154.279712398 L 817.7853135219882 284.458717158 L 248.59272385667572 284.458717158 L 248.59272385667572 138.447130738 M 801.9527318619882 138.447130738 L 801.9527318619882 154.279712398 L 817.7853135219882 154.279712398" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="273.22118421667574" y="163.07559109800002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">#define DRM_GEM_SHMEM_DRIVER_OPS </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="273.22118421667574" y="180.66734849800002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">  .prime_handle_to_fd    = drm_gem_prime_handle_to_fd,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="273.22118421667574" y="198.25910589800003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">  .prime_fd_to_handle    = drm_gem_prime_fd_to_handle,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="273.22118421667574" y="215.85086329800004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">  .gem_prime_import_sg_table =drm_gem_shmem_prime_import_sg_table,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="273.22118421667574" y="233.44262069800004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">  .gem_prime_mmap     = drm_gem_prime_mmap, </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="273.22118421667574" y="251.03437809800005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">  .dumb_create     = drm_gem_shmem_dumb_create</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="273.22118421667574" y="268.62613549800005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text></g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 8.7958787 325.21295513466663 L 1853.2041213 325.21295513466663 M 8.7958787 331.076874268 L 1853.2041213 331.076874268 M 8.7958787 336.94079340133334 L 1853.2041213 336.94079340133334" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 862.0372500892188 310.846353258 L 999.9627499107813 310.846353258 L 999.9627499107813 351.307395278 L 862.0372500892188 351.307395278 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="886.6657104492188" y="335.474813618" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">create dumb</text></g><g><g><rect fill="white" stroke="none" x="117.07220508183202" y="377.695031378" width="241.74145544265625" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="117.07220508183202" y="395.286788778" width="347.1243900129688" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="117.07220508183202" y="412.878546178" width="5.27752722" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="119.71096869183202" y="393.527613038" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_gem_shmem_dumb_create( )</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="119.71096869183202" y="411.11937043800003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">         --&gt;drm_gem_shmem_create_with_handle( )</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="119.71096869183202" y="428.71112783800004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 48.07978148730078 435.747830798 L 518.7051384299987 435.747830798" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(533.189018689332,435.747830798) translate(-533.189018689332,-435.747830798)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 518.5292208559987 428.41793188133335 L 533.189018689332 435.747830798 L 518.5292208559987 443.07772971466665 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 533.189018689332 579.120653608 L 541.984897389332 579.120653608 M 541.984897389332 477.96804855799996 L 541.984897389332 477.96804855799996 A 15.832581659999999 15.832581659999999 0 0 1 557.817479049332 462.13546689799995 L 991.9877276602695 462.13546689799995 L 991.9877276602695 462.13546689799995 A 15.832581659999999 15.832581659999999 0 0 1 1007.8203093202694 477.96804855799996 L 1007.8203093202694 680.273258658 L 1007.8203093202694 680.273258658 A 15.832581659999999 15.832581659999999 0 0 1 991.9877276602695 696.105840318 L 557.817479049332 696.105840318 L 557.817479049332 696.105840318 A 15.832581659999999 15.832581659999999 0 0 1 541.984897389332 680.273258658 L 541.984897389332 477.96804855799996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><g><rect fill="yellow" stroke="none" x="566.613357749332" y="473.746026782" width="190.71588134765625" height="17.767674974"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="566.613357749332" y="486.763927258" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1. drm_gem_shmem_create</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="757.3292390969882" y="486.763927258" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">( )  --&gt; </text><text fill="red" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="808.0307314065585" y="486.763927258" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_gem_shmem_object</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="566.613357749332" y="504.35568465800003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="566.613357749332" y="521.947442058" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">           __drm_gem_shmem_create( )</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="566.613357749332" y="539.539199458" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="566.613357749332" y="557.130956858" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                 a. //分配gem_object内存</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="566.613357749332" y="574.722714258" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                   if( driver-&gt;gem_create_object ！= NULL)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="566.613357749332" y="592.314471658" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                      gem_obj = driver-&gt;gem_create_object( )</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="566.613357749332" y="609.906229058" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                   or </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="566.613357749332" y="627.497986458" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                      gem_obj = kzalloc( )</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="566.613357749332" y="645.089743858" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="566.613357749332" y="662.681501258" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                 b. //设置funcs</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="566.613357749332" y="680.273258658" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">                            obj-&gt;funcs = &amp;</text><text fill="blue" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="797.4793092874179" y="680.273258658" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_gem_shmem_funcs</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 533.189018689332 821.886905728 L 524.393139989332 821.886905728 M 56.87566018730075 722.493476418 L 508.56055832933197 722.493476418 L 524.393139989332 738.326058078 L 524.393139989332 921.280335038 L 56.87566018730075 921.280335038 L 56.87566018730075 722.493476418 M 508.56055832933197 722.493476418 L 508.56055832933197 738.326058078 L 524.393139989332 738.326058078" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="blue" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.50412054730077" y="747.121936778" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_gem_shmem_funcs</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="250.22287054730077" y="747.121936778" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> = {</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.50412054730077" y="764.713694178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        .free               = drm_gem_shmem_object_free,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.50412054730077" y="782.305451578" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        .print_info     = drm_gem_shmem_object_print_info,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.50412054730077" y="799.897208978" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        .pin                = drm_gem_shmem_object_pin,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.50412054730077" y="817.488966378" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        .unpin            = drm_gem_shmem_object_unpin,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.50412054730077" y="835.080723778" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        .get_sg_table = drm_gem_shmem_object_get_sg_table,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.50412054730077" y="852.672481178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        .vmap            = drm_gem_shmem_object_vmap,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.50412054730077" y="870.264238578" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        .vunmap        = drm_gem_shmem_object_vunmap,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.50412054730077" y="887.855995978" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        .mmap           = drm_gem_shmem_object_mmap,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="81.50412054730077" y="905.447753378" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">};</text></g><g><g><rect fill="white" stroke="none" x="648.4224507777045" y="947.6679711379999" width="141.941833860625" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="648.4224507777045" y="965.2597285379999" width="317.08834875320315" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="651.0612143877045" y="963.5005527979998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">c. //初始化 gem_obj</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="651.0612143877045" y="981.0923101979998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">   drm_gem_object_init( )                                </text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 533.189018689332 988.1290131579999 L 1066.2603513599468 988.1290131579999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1080.74423161928,988.1290131579999) translate(-1080.74423161928,-988.1290131579999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1066.0844337859467 980.7991142413332 L 1080.74423161928 988.1290131579999 L 1066.0844337859467 995.4589120746666 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1080.74423161928 1149.0935933679998 L 1089.54011031928 1149.0935933679998 M 1089.54011031928 1030.3492309179999 L 1089.54011031928 1030.3492309179999 A 15.832581659999999 15.832581659999999 0 0 1 1105.37269197928 1014.5166492579999 L 1499.5857262347488 1014.5166492579999 L 1499.5857262347488 1014.5166492579999 A 15.832581659999999 15.832581659999999 0 0 1 1515.4183078947488 1030.3492309179999 L 1515.4183078947488 1267.837955818 L 1515.4183078947488 1267.837955818 A 15.832581659999999 15.832581659999999 0 0 1 1499.5857262347488 1283.670537478 L 1105.37269197928 1283.670537478 L 1105.37269197928 1283.670537478 A 15.832581659999999 15.832581659999999 0 0 1 1089.54011031928 1267.837955818 L 1089.54011031928 1030.3492309179999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1039.1451096179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1. drm_gem_private_object_init( )</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1056.7368670179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1074.3286244179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">      a.kref_init()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1091.9203818179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1109.5121392179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">      b.dma_rest_init()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1127.1038966179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        // </text><text fill="red" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1165.736167114827" y="1127.1038966179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">struct dma_resv</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1275.7433234868972" y="1127.1038966179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">,用它来管理一组dma-fences</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1144.6956540179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1162.2874114179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">      c. drm_vma_node_reset()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1179.8791688179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        // </text><text fill="red" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1165.736167114827" y="1179.8791688179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">struct drm_vma_offset_node, </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1197.4709262179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        // Mapping info for this object to support mmap</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1215.0626836179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1232.6544410179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2. shmem_file_setup( )</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1250.2461984179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">   //用于创建匿名共享内存</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1267.8379558179997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text></g><g><g><rect fill="white" stroke="none" x="646.9477651087592" y="1310.058173578" width="130.66050756667968" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="646.9477651087592" y="1327.649930978" width="246.3441318342578" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="646.9477651087592" y="1345.241688378" width="320.0377200910938" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="649.5865287187592" y="1325.8907552379999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">d. // mmap_offset</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="649.5865287187592" y="1343.482512638" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">   drm_gem_create_mmap_offset( )</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="649.5865287187592" y="1361.074270038" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">       --&gt;drm_gem_create_mmap_offset_size( )</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 533.189018689332 1368.1109729979999 L 1066.2603513599468 1368.1109729979999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1080.74423161928,1368.1109729979999) translate(-1080.74423161928,-1368.1109729979999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1066.0844337859467 1360.7810740813331 L 1080.74423161928 1368.1109729979999 L 1066.0844337859467 1375.4408719146666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1221.1575307631276" y="1394.4986090979999" width="162.64335668777343" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1223.7962943731277" y="1410.3311907579998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_vms_offset_add( )</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1080.74423161928 1417.3678937179998 L 1509.7303063354154 1417.3678937179998" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1524.2141865947488,1417.3678937179998) translate(-1524.2141865947488,-1417.3678937179998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1509.5543887614153 1410.037994801333 L 1524.2141865947488 1417.3678937179998 L 1509.5543887614153 1424.6977926346665 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1545.0310995180819" y="1443.7555298179998" width="229.3506015608203" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="1545.0310995180819" y="1461.3472872179998" width="237.38925207351562" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1547.669863128082" y="1459.5881114779997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_mm_insert_node_generic() </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1547.669863128082" y="1477.1798688779998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">drm_mm_insert_node_in_range( )</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1524.2141865947488 1484.2165718379997 L 1788.7533842555977 1484.2165718379997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1803.237264514931,1484.2165718379997) translate(-1803.237264514931,-1484.2165718379997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1788.5774666815976 1476.886672921333 L 1803.237264514931 1484.2165718379997 L 1788.5774666815976 1491.5464707546664 Z"/></g></g><g><g><rect fill="white" stroke="none" x="554.0059316126654" y="1510.6042079379997" width="206.279724485625" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="554.0059316126654" y="1528.1959653379997" width="505.9213870832813" height="22.86928462"/></g><g><rect fill="yellow" stroke="none" x="556.6446952226654" y="1513.4188891219997" width="186.87191772460938" height="17.767674974"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="556.6446952226654" y="1526.4367895979997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2. drm_gem_handle_create</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="743.5166129472748" y="1526.4367895979997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">( )</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="556.6446952226654" y="1544.0285469979997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">       --&gt;drm_gem_handle_create_tail( )                                                      </text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 533.189018689332 1551.0652499579996 L 1066.2603513599468 1551.0652499579996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1080.74423161928,1551.0652499579996) translate(-1080.74423161928,-1551.0652499579996)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1066.0844337859467 1543.735351041333 L 1080.74423161928 1551.0652499579996 L 1066.0844337859467 1558.3951488746663 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1080.74423161928 1659.2545579679995 L 1089.54011031928 1659.2545579679995 M 1089.54011031928 1593.2854677179996 L 1089.54011031928 1593.2854677179996 A 15.832581659999999 15.832581659999999 0 0 1 1105.37269197928 1577.4528860579996 L 1431.1606163714675 1577.4528860579996 L 1431.1606163714675 1577.4528860579996 A 15.832581659999999 15.832581659999999 0 0 1 1446.9931980314675 1593.2854677179996 L 1446.9931980314675 1725.2236482179997 L 1446.9931980314675 1725.2236482179997 A 15.832581659999999 15.832581659999999 0 0 1 1431.1606163714675 1741.0562298779996 L 1105.37269197928 1741.0562298779996 L 1105.37269197928 1741.0562298779996 A 15.832581659999999 15.832581659999999 0 0 1 1089.54011031928 1725.2236482179997 L 1089.54011031928 1593.2854677179996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1602.0813464179994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1. idr_alloc() //分配一个正式ID</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1619.6731038179994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1637.2648612179994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2. drm_vma_node_allow( ) </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1654.8566186179994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    //添加一个drm_file到该gem_obj的用户列表</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1672.4483760179994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    //drm_file对应到一个App 打开的drm</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1690.0401334179994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1707.6318908179994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3. if no NULL</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1114.16857067928" y="1725.2236482179994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">      gem_obj-&gt;funcs-&gt;</text><text fill="red" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1272.515021484944" y="1725.2236482179994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">open</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1308.5493842779128" y="1725.2236482179994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">( )</text></g><g><g><rect fill="white" stroke="none" x="555.0043904749701" y="1767.4438659779996" width="183.28758276199218" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="555.0043904749701" y="1785.0356233779996" width="225.21311987136718" height="22.86928462"/></g><g><rect fill="white" stroke="none" x="555.0043904749701" y="1802.6273807779996" width="503.9244693586719" height="22.86928462"/></g><g><rect fill="yellow" stroke="none" x="557.6431540849701" y="1770.2585471619996" width="163.87977600097656" height="17.767674974"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="557.6431540849701" y="1783.2764476379996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3. drm_gem_object_put</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="721.5229300859467" y="1783.2764476379996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">( )</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="557.6431540849701" y="1800.8682050379996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">     --&gt; __drm_gem_object_put()</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="557.6431540849701" y="1818.4599624379996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">          --&gt;kref_put(&amp;obj-&gt;refcount, drm_gem_object_free);                     </text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 533.189018689332 1825.4966653979995 L 1066.2603513599468 1825.4966653979995" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(1080.74423161928,1825.4966653979995) translate(-1080.74423161928,-1825.4966653979995)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1066.0844337859467 1818.1667664813328 L 1080.74423161928 1825.4966653979995 L 1066.0844337859467 1832.8265643146663 Z"/></g></g></g><g/><g/><g/><g/><g/></g></g></g></g></svg>