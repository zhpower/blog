<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1091" height="528"><desc>title%20%20Surface%20attach%0A%0AClient%20-%3E%20weston_surface%3Awl_surface_attach(%3Ccolor%3A%23red%3Ewl_buffer*%3C%2Fcolor%3E)%0A%0Agroup%20surface_attach(%20)%0Aweston_surface%20-%3E%20weston_buffer%3Aweston_buffer_from_resource(%3Ccolor%3A%23red%3Ewl_buffer-%3Ewl_resource*%3C%2Fcolor%3E%20)%0Abox%20over%20weston_buffer%3A%3Ccolor%3A%23red%3Eweston_buffer%20*%3C%2Fcolor%3E%20%3D%20zalloc(%20)%5Cn%20wl_resource_add_destroy_listener(%20)%0Aweston_buffer-%3Eweston_surface%3A%20%3Ccolor%3A%23red%3Eweston_buffer%20*%3C%2Fcolor%3E%0Aweston_surface%20-%3Eweston_surface_state%3A%20weston_suface_state_set_buffer(%3Ccolor%3A%23red%3Esurface_pending%2C%20%20weston_buffer*%3C%2Fcolor%3E)%0A%09%0Aend</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1091" height="528"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="467.2917725032512" y="26.3876361" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> Surface attach</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 48.094101860835934 103.26361593799999 L 48.094101860835934 528.9841450179999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 298.6919325886354 103.26361593799999 L 298.6919325886354 528.9841450179999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 735.0235432236614 103.26361593799999 L 735.0235432236614 528.9841450179999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 989.4097922667603 103.26361593799999 L 989.4097922667603 528.9841450179999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 55.765870957999994 L 87.39232502167187 55.765870957999994 L 87.39232502167187 103.26361593799999 L 8.795878699999996 103.26361593799999 L 8.795878699999996 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 225.8861868447916 55.765870957999994 L 371.49767833247915 55.765870957999994 L 371.49767833247915 103.26361593799999 L 225.8861868447916 103.26361593799999 L 225.8861868447916 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="244.97324362379163" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">weston_surface</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 666.265755853841 55.765870957999994 L 803.7813305934817 55.765870957999994 L 803.7813305934817 103.26361593799999 L 666.265755853841 103.26361593799999 L 666.265755853841 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="685.352812632841" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">weston_buffer</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 896.3141447895181 55.765870957999994 L 1082.5054397440024 55.765870957999994 L 1082.5054397440024 103.26361593799999 L 896.3141447895181 103.26361593799999 L 896.3141447895181 55.765870957999994 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="915.4012015685181" y="85.67185853800001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">weston_surface_state</text></g></g><g><g><g><rect fill="white" stroke="none" x="68.91101478416927" y="138.44713073799997" width="208.9640048811328" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="71.54977839416927" y="154.279712398" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">wl_surface_attach(</text><text fill="red" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="199.14462702698177" y="154.279712398" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">wl_buffer*</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="270.3400463385052" y="154.279712398" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 48.094101860835934 161.31641535799997 L 284.20805232930206 161.31641535799997" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(298.6919325886354,161.31641535799997) translate(-298.6919325886354,-161.31641535799997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 284.032134755302 153.9865164413333 L 298.6919325886354 161.31641535799997 L 284.032134755302 168.64631427466665 Z"/></g></g><g><g><rect fill="white" stroke="none" x="319.5088455119687" y="235.20179643799995" width="394.6977847883594" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="322.1476091219687" y="251.03437809799996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">weston_buffer_from_resource(</text><text fill="red" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="532.9636949373984" y="251.03437809799996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">wl_buffer-&gt;wl_resource*</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="702.3337968661093" y="251.03437809799996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> )</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 298.6919325886354 258.07108105799995 L 720.539662964328 258.07108105799995" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(735.0235432236614,258.07108105799995) translate(-735.0235432236614,-258.07108105799995)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 720.3637453903281 250.74118214133327 L 735.0235432236614 258.07108105799995 L 720.3637453903281 265.4009799746666 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 585.0944236839739 284.45871715799996 L 884.9526627633488 284.45871715799996 L 884.9526627633488 342.51151657799994 L 585.0944236839739 342.51151657799994 L 585.0944236839739 284.45871715799996" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="red" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="609.7228840439739" y="309.0871775179999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">weston_buffer *</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="720.0736378281536" y="309.0871775179999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> = zalloc( )</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="609.7228840439739" y="326.6789349179999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> wl_resource_add_destroy_listener( )</text></g><g><g><rect fill="white" stroke="none" x="459.0435974040585" y="368.89915267799995" width="115.62828100417968" height="22.86928462"/></g><text fill="red" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="461.68236101405853" y="384.73173433799997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">weston_buffer *</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 735.0235432236614 391.7684372979999 L 313.1758128479687 391.7684372979999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(298.6919325886354,391.7684372979999) translate(-298.6919325886354,-391.7684372979999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 313.35173042196874 384.4385383813333 L 298.6919325886354 391.7684372979999 L 313.35173042196874 399.0983362146666 Z"/></g></g><g><g><rect fill="white" stroke="none" x="410.48152630793226" y="418.15607339799993" width="467.1386722395313" height="22.86928462"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="413.12028991793227" y="433.98865505799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">weston_suface_state_set_buffer(</text><text fill="red" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="636.3200122079713" y="433.98865505799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">surface_pending,  weston_buffer*</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="870.0852252206666" y="433.98865505799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 298.6919325886354 441.0253580179999 L 974.925912007427 441.0253580179999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g transform="translate(989.4097922667603,441.0253580179999) translate(-989.4097922667603,-441.0253580179999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 974.749994433427 433.69545910133326 L 989.4097922667603 441.0253580179999 L 974.749994433427 448.35525693466656 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 237.1207816886354 187.70405145799998 L 1050.9809431667602 187.70405145799998 L 1050.9809431667602 467.4129941179999 L 237.1207816886354 467.4129941179999 L 237.1207816886354 187.70405145799998 Z" stroke-miterlimit="10" stroke-width="2.5131082" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 237.1207816886354 187.70405145799998 L 237.1207816886354 208.81416033799997 L 370.1820430706666 208.81416033799997 L 380.7370975106666 198.25910589799997 L 380.7370975106666 187.70405145799998 L 237.1207816886354 187.70405145799998" stroke-miterlimit="10" stroke-width="2.5131082" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="254.7125390886354" y="201.77745737799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">surface_attach( )</text></g></g><g/><g/><g/><g/></g></svg>